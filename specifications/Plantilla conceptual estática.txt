¬°Claro que s√≠\! Bas√°ndome en tu esquema de base de datos y tu necesidad de una interfaz simple y profesional en Next.js, he preparado una plantilla conceptual est√°tica.

Esta propuesta se centra en la **experiencia de usuario (UX)**, agrupando las acciones de forma l√≥gica para que el administrador pueda gestionar el men√∫ de manera r√°pida e intuitiva.

-----

### **Propuesta de Interfaz de Gesti√≥n de Men√∫**

La idea principal es un dise√±o de dos paneles:

  * **Panel Izquierdo (Barra Lateral):** Una lista de todas las categor√≠as del men√∫. Permite seleccionar una categor√≠a para ver sus productos.
  * **Panel Derecho (√Årea Principal):** Muestra todos los productos de la categor√≠a seleccionada. Desde aqu√≠ se gestiona todo lo relacionado con los productos: sus variantes, al√©rgenos e im√°genes.

-----

### **Requisito Previo: Modificaci√≥n en la Base de Datos**

He notado que tu base de datos actual no tiene un campo para guardar la URL de las im√°genes de categor√≠as o productos. Para poder subir im√°genes, primero necesitas a√±adir una columna en las tablas correspondientes.

Aqu√≠ tienes los comandos SQL para hacerlo:

```sql
-- A√±adir campo para la URL de la imagen en la tabla de categor√≠as
ALTER TABLE categories
ADD COLUMN image_url VARCHAR(255);

-- A√±adir campo para la URL de la imagen en la tabla de productos
ALTER TABLE products
ADD COLUMN image_url VARCHAR(255);
```

-----

### **Dise√±o de la Interfaz (Plantilla Est√°tica)**

Aqu√≠ te presento un desglose visual y funcional de c√≥mo se ver√≠a la p√°gina de gesti√≥n.

#### **T√≠tulo de la P√°gina: `Gesti√≥n del Men√∫`**

**(Barra de Navegaci√≥n Superior)**
`Restaurante: [Nombre del Restaurante del Admin]`

-----

| **Panel Izquierdo: Categor√≠as** | **Panel Derecho: Productos de la Categor√≠a Seleccionada** -    \<br/\>`[Bot√≥n: ‚ûï A√±adir Nueva Categor√≠a]`                                                                                                                                  | **Categor√≠a: Entrantes** `[Bot√≥n: ‚úèÔ∏è Editar Categor√≠a]` `[Bot√≥n: üóëÔ∏è Eliminar Categor√≠a]`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             -    \<hr/\>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | \<hr/\>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 -`[Bot-content text="**Entrantes**"]` \<br/\>`[Bot-content text="**Platos Principales**"]` \<br/\> `[Bot-content text="Postres"]`\<br/\>`[Bot-content text="Bebidas"]` | **`[Bot√≥n: ‚ûï A√±adir Nuevo Producto]`** \<br/\>\<br/\> **Listado de Productos (en formato de tarjetas):** \<br/\>\<br/\> **Tarjeta de Producto 1: Croquetas de Jam√≥n** `[Bot√≥n: ‚úèÔ∏è Editar]` `[Bot√≥n: üóëÔ∏è Eliminar]` \<br/\> *Imagen del producto aqu√≠* \<br/\> Descripci√≥n: Deliciosas croquetas caseras de jam√≥n ib√©rico. \<br/\> Precio: 9.50‚Ç¨ \<br/\> Al√©rgenos: ü•õ L√°cteos, üçû Gluten \<br/\>\<br/\> **Tarjeta de Producto 2: Ensalada C√©sar** `[Bot√≥n: ‚úèÔ∏è Editar]` `[Bot√≥n: üóëÔ∏è Eliminar]`\<br/\> *Imagen del producto aqu√≠*\<br/\> Descripci√≥n: Ensalada cl√°sica con pollo, picatostes y nuestra salsa especial. \<br/\> Precio: Desde 8.00‚Ç¨ \<br/\> Al√©rgenos: ü•ö Huevo, üêü Pescado, üçû Gluten \<br/\>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       -

### **Flujo de Acciones y Modales (Pop-ups)**

#### 1\. **Gestionar Categor√≠as**

  * **A√±adir Categor√≠a:** Al pulsar `‚ûï A√±adir Nueva Categor√≠a`, aparece un modal simple:

      * **T√≠tulo:** Nueva Categor√≠a
      * **Campo 1:** Nombre de la Categor√≠a (ej: "Postres")
      * **Campo 2:** Subir Imagen (un componente para arrastrar o seleccionar un archivo de imagen)
      * **Botones:** `Guardar`, `Cancelar`

  * **Editar Categor√≠a:** Al pulsar `‚úèÔ∏è Editar Categor√≠a` (en el panel derecho), aparece el mismo modal, pero con los datos ya cargados.

#### 2\. **Gestionar Productos (El Modal Clave)**

Al pulsar `‚ûï A√±adir Nuevo Producto` o `‚úèÔ∏è Editar` en una tarjeta de producto, se abrir√° un modal m√°s completo, organizado por pesta√±as o secciones para mantener la simplicidad.

**Modal: `A√±adir/Editar Producto`**

-----

**Secci√≥n 1: Informaci√≥n B√°sica**

  * **Nombre del Producto:** `[Input de texto]` (ej: "Tarta de Queso")
  * **Descripci√≥n:** `[√Årea de texto]` (ej: "Cremosa tarta de queso al estilo neoyorquino con base de galleta.")
  * **Subir Imagen del Producto:** `[Componente de subida de imagen]`

**Secci√≥n 2: Variantes y Precios (Crucial para la Venta)**

*Esta secci√≥n es vital porque tu tabla `products` no tiene precio; lo tiene `product_variants`. Un producto necesita al menos una variante para poder ser vendido.*

  * **T√≠tulo:** Variantes
      * **Variante 1:**
          * Descripci√≥n: `[Input de texto, ej: "Raci√≥n Normal"]` | Precio: `[Input num√©rico, ej: 5.50]` ‚Ç¨ `[Bot√≥n: üóëÔ∏è]`
      * **Variante 2:**
          * Descripci√≥n: `[Input de texto, ej: "Para compartir"]` | Precio: `[Input num√©rico, ej: 9.00]` ‚Ç¨ `[Bot√≥n: üóëÔ∏è]`
  * `[Bot√≥n: ‚ûï A√±adir otra variante]`

**Secci√≥n 3: Al√©rgenos Asociados**

  * **T√≠tulo:** Selecciona los al√©rgenos

  * Se mostrar√° una **parrilla con todos los al√©rgenos** disponibles en tu tabla `allergens`. El administrador solo tiene que hacer clic para marcar/desmarcar.

    ```
    [ ] üçû Gluten   [ ] ü¶Ä Crust√°ceos  [ ] ü•ö Huevos     [ ] üêü Pescado
    [X] ü•ú Cacahuetes [ ] üå± Soja        [X] ü•õ L√°cteos     [ ] üå∞ Frutos de c√°scara
    [ ] ü•¨ Apio      [ ] üå≠ Mostaza     [ ] üç™ S√©samo     [ ] ... etc.
    ```

**Secci√≥n 4 (Opcional pero recomendado): Traducciones**

Dado que tu base de datos est√° preparada para ello, podr√≠as a√±adir unas pesta√±as de idiomas.

  * `[Pesta√±a: Espa√±ol (por defecto)]` `[Pesta√±a: Ingl√©s]` `[Pesta√±a: Franc√©s]`
  * Al cambiar de pesta√±a, los campos "Nombre del Producto", "Descripci√≥n" y "Descripci√≥n de Variante" cambiar√≠an para introducir el texto en el idioma correspondiente.

-----

**Botones Finales del Modal:** `[Guardar Cambios]`, `[Cancelar]`

-----

### **Resumen del Flujo de Trabajo para el Admin**

1.  **Inicia sesi√≥n** y navega a la p√°gina "Gesti√≥n del Men√∫".
2.  **Selecciona una categor√≠a** en el panel izquierdo (ej: "Platos Principales").
3.  **Ve todos los productos** de esa categor√≠a en el panel derecho.
4.  Para **a√±adir un nuevo plato**, hace clic en `‚ûï A√±adir Nuevo Producto`.
5.  **Rellena el modal:** nombre, descripci√≥n, sube una foto, a√±ade una o m√°s variantes (ej: "Normal" a 15‚Ç¨) y marca las casillas de los al√©rgenos (ej: `Gluten`, `L√°cteos`). Guarda.
6.  Para **modificar un plato existente**, hace clic en `‚úèÔ∏è Editar` en la tarjeta del producto, ajusta lo que necesite en el mismo modal y guarda.
7.  El nuevo producto o los cambios **aparecen inmediatamente** en la lista.

Este dise√±o es modular, escalable y muy similar a las interfaces que los usuarios ya conocen, lo que minimiza la curva de aprendizaje y cumple con los requisitos de ser **simple y profesional**.
